{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\20213\\\\Desktop\\\\web\\\\src\\\\pages\\\\VisualizerPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useAudioContext } from '../context/AudioContext';\nimport * as visualEffects from '../utils/visualEffects';\nimport * as newVisualEffects from '../utils/newVisualEffects';\n\n// スタイルコンポーネント\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VisualizerContainer = styled.div`\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n`;\n_c = VisualizerContainer;\nconst Title = styled.h1`\n  color: #ba68c8;\n  margin-bottom: 20px;\n  text-align: center;\n`;\n_c2 = Title;\nconst ControlPanel = styled.div`\n  display: flex;\n  flex-direction: column;\n  background-color: #1e1e1e;\n  padding: 20px;\n  border-radius: 8px;\n  margin-bottom: 30px;\n`;\n_c3 = ControlPanel;\nconst ControlRow = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n  margin-bottom: 20px;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n`;\n_c4 = ControlRow;\nconst ControlGroup = styled.div`\n  flex: 1;\n  min-width: 200px;\n`;\n_c5 = ControlGroup;\nconst Label = styled.label`\n  display: block;\n  margin-bottom: 8px;\n  color: #ddd;\n  font-weight: 500;\n`;\n_c6 = Label;\nconst Button = styled.button`\n  background-color: ${props => props.$primary ? '#9c27b0' : '#333'};\n  color: white;\n  border: none;\n  padding: 10px 15px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background-color: ${props => props.$primary ? '#ba68c8' : '#444'};\n  }\n  \n  &:disabled {\n    background-color: #555;\n    cursor: not-allowed;\n  }\n`;\n_c7 = Button;\nconst FileInput = styled.input`\n  display: none;\n`;\n_c8 = FileInput;\nconst FileInputLabel = styled.label`\n  display: inline-block;\n  background-color: #333;\n  color: white;\n  padding: 10px 15px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background-color: #444;\n  }\n`;\n_c9 = FileInputLabel;\nconst Select = styled.select`\n  width: 100%;\n  padding: 10px;\n  background-color: #333;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  appearance: none;\n  cursor: pointer;\n  \n  &:focus {\n    outline: none;\n    box-shadow: 0 0 0 2px rgba(186, 104, 200, 0.3);\n  }\n`;\n_c10 = Select;\nconst ColorInput = styled.input`\n  width: 40px;\n  height: 40px;\n  padding: 0;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  background-color: transparent;\n  \n  &::-webkit-color-swatch-wrapper {\n    padding: 0;\n  }\n  \n  &::-webkit-color-swatch {\n    border: none;\n    border-radius: 4px;\n  }\n`;\n_c11 = ColorInput;\nconst ColorInputGroup = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 10px;\n`;\n_c12 = ColorInputGroup;\nconst ProgressBar = styled.div`\n  width: 100%;\n  height: 6px;\n  background-color: #333;\n  border-radius: 3px;\n  margin-top: 5px;\n  position: relative;\n  cursor: pointer;\n`;\n_c13 = ProgressBar;\nconst Progress = styled.div`\n  height: 100%;\n  width: ${props => props.$width};\n  background-color: #ba68c8;\n  border-radius: 3px;\n`;\n_c14 = Progress;\nconst CanvasContainer = styled.div`\n  width: 100%;\n  height: 500px;\n  overflow: hidden;\n  border-radius: 8px;\n  background-color: #111;\n  position: relative;\n`;\n_c15 = CanvasContainer;\nconst Canvas = styled.canvas`\n  width: 100%;\n  height: 100%;\n  display: block;\n`;\n\n// 視覚化効果タイプ\n_c16 = Canvas;\nvar VisualizationType = /*#__PURE__*/function (VisualizationType) {\n  VisualizationType[\"SPECTRUM_BARS\"] = \"spectrumBars\";\n  VisualizationType[\"WAVEFORM\"] = \"waveform\";\n  VisualizationType[\"CIRCULAR\"] = \"circular\";\n  VisualizationType[\"PARTICLES\"] = \"particles\";\n  VisualizationType[\"SPHERE_3D\"] = \"sphere3d\";\n  VisualizationType[\"SPECTRUM_WATERFALL\"] = \"spectrumWaterfall\";\n  VisualizationType[\"STAR_FIELD\"] = \"starField\";\n  return VisualizationType;\n}(VisualizationType || {}); // サンプル音楽リスト\nconst SAMPLE_TRACKS = [{\n  name: 'サンプル音楽 1',\n  url: 'https://assets.codepen.io/4358584/Anitek_-_Komorebi.mp3'\n}, {\n  name: 'サンプル音楽 2',\n  url: 'https://assets.codepen.io/4358584/Moonbase_-_Dinos.mp3'\n}, {\n  name: 'サンプル音楽 3',\n  url: 'https://assets.codepen.io/4358584/n-Dimensions_-_Cyber_Diva.mp3'\n}];\nfunction VisualizerPage() {\n  _s();\n  // 全局音频上下文\n  const {\n    audioData,\n    isPlaying,\n    loadAudio,\n    loadAudioFromUrl,\n    play,\n    pause,\n    stop,\n    setVolume,\n    currentTime,\n    duration,\n    volume,\n    seek\n  } = useAudioContext();\n\n  // 状態管理\n  const [visualType, setVisualType] = useState(VisualizationType.SPECTRUM_BARS);\n  const [startColor, setStartColor] = useState('#9c27b0');\n  const [endColor, setEndColor] = useState('#3f51b5');\n  const [fileName, setFileName] = useState('ファイルが選択されていません');\n\n  // Refs\n  const canvasRef = useRef(null);\n  const canvasCtxRef = useRef(null);\n  const animationRef = useRef(null);\n\n  // 各种可视化效果的状态\n  const particlesRef = useRef([]);\n  const sphereVisualizerRef = useRef(null);\n  const spectrumWaterfallRef = useRef(null);\n  const starfieldRef = useRef(null);\n\n  // 初始化画布\n  useEffect(() => {\n    if (canvasRef.current) {\n      canvasCtxRef.current = canvasRef.current.getContext('2d');\n\n      // 设置画布大小\n      const resizeCanvas = () => {\n        if (canvasRef.current) {\n          const container = canvasRef.current.parentElement;\n          if (container) {\n            canvasRef.current.width = container.clientWidth;\n            canvasRef.current.height = container.clientHeight;\n          }\n        }\n      };\n      resizeCanvas();\n      window.addEventListener('resize', resizeCanvas);\n\n      // 清理之前的可视化效果\n      if (sphereVisualizerRef.current) {\n        sphereVisualizerRef.current.destroy();\n        sphereVisualizerRef.current = null;\n      }\n\n      // 如果粒子效果，初始化粒子\n      if (visualType === VisualizationType.PARTICLES && canvasRef.current) {\n        particlesRef.current = visualEffects.createParticles(100, canvasRef.current.width, canvasRef.current.height, {\n          startColor,\n          endColor\n        });\n      } else if (visualType === VisualizationType.SPHERE_3D && canvasRef.current) {\n        const container = canvasRef.current.parentElement;\n        if (container) {\n          // 清空容器并创建新的3D球体可视化\n          if (sphereVisualizerRef.current) {\n            sphereVisualizerRef.current.destroy();\n          }\n          sphereVisualizerRef.current = new newVisualEffects.SphereVisualizer(container, {\n            startColor,\n            endColor\n          });\n        }\n      } else if (visualType === VisualizationType.SPECTRUM_WATERFALL && canvasRef.current) {\n        if (spectrumWaterfallRef.current) {\n          // 重置瀑布效果\n          spectrumWaterfallRef.current = null;\n        }\n        spectrumWaterfallRef.current = new newVisualEffects.SpectrumWaterfall(canvasRef.current, {\n          startColor,\n          endColor\n        });\n      } else if (visualType === VisualizationType.STAR_FIELD && canvasRef.current) {\n        if (starfieldRef.current) {\n          // 重置星空效果\n          starfieldRef.current = null;\n        }\n        starfieldRef.current = new newVisualEffects.Starfield(canvasRef.current, {\n          startColor,\n          endColor\n        });\n      }\n      return () => {\n        window.removeEventListener('resize', resizeCanvas);\n\n        // 清理3D可视化效果\n        if (sphereVisualizerRef.current) {\n          sphereVisualizerRef.current.destroy();\n          sphereVisualizerRef.current = null;\n        }\n      };\n    }\n  }, [visualType, startColor, endColor]);\n\n  // 绘制可视化效果\n  useEffect(() => {\n    if (!audioData.ready || !canvasRef.current) {\n      return;\n    }\n    const canvas = canvasRef.current;\n    const ctx = canvasCtxRef.current;\n    const draw = () => {\n      if (!canvas) return;\n      const {\n        frequencies,\n        waveform,\n        volume\n      } = audioData;\n      switch (visualType) {\n        case VisualizationType.SPECTRUM_BARS:\n          if (ctx) {\n            visualEffects.drawSpectrumBars(ctx, frequencies, canvas.width, canvas.height, {\n              startColor,\n              endColor\n            });\n          }\n          break;\n        case VisualizationType.WAVEFORM:\n          if (ctx) {\n            visualEffects.drawWaveform(ctx, waveform, canvas.width, canvas.height, {\n              color: startColor,\n              filled: true\n            });\n          }\n          break;\n        case VisualizationType.CIRCULAR:\n          if (ctx) {\n            visualEffects.drawCircularSpectrum(ctx, frequencies, canvas.width, canvas.height, {\n              startColor,\n              endColor,\n              rotation: Date.now() * 0.0005\n            });\n          }\n          break;\n        case VisualizationType.PARTICLES:\n          if (ctx) {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            particlesRef.current = visualEffects.updateParticles(particlesRef.current, canvas.width, canvas.height, volume);\n            visualEffects.drawParticles(ctx, particlesRef.current, volume);\n          }\n          break;\n        case VisualizationType.SPHERE_3D:\n          if (sphereVisualizerRef.current) {\n            sphereVisualizerRef.current.update(frequencies);\n          }\n          break;\n        case VisualizationType.SPECTRUM_WATERFALL:\n          if (spectrumWaterfallRef.current) {\n            spectrumWaterfallRef.current.update(frequencies);\n          }\n          break;\n        case VisualizationType.STAR_FIELD:\n          if (starfieldRef.current) {\n            starfieldRef.current.update(frequencies);\n          }\n          break;\n      }\n      animationRef.current = requestAnimationFrame(draw);\n    };\n    draw();\n    return () => {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n    };\n  }, [audioData, visualType, startColor, endColor]);\n\n  // 文件名の更新を処理する\n  const handleFileChange = e => {\n    const files = e.target.files;\n    if (files && files.length > 0) {\n      const file = files[0];\n      setFileName(file.name);\n      loadAudio(file);\n    }\n  };\n\n  // サンプル音楽選択処理\n  const handleSampleTrack = url => {\n    loadAudioFromUrl(url);\n    const track = SAMPLE_TRACKS.find(t => t.url === url);\n    if (track) {\n      setFileName(track.name);\n    }\n  };\n\n  // 進行状況クリック処理\n  const handleProgressClick = e => {\n    if (!duration) return;\n    const progressBar = e.currentTarget;\n    const rect = progressBar.getBoundingClientRect();\n    const offsetX = e.clientX - rect.left;\n    const percentage = offsetX / rect.width;\n    const newTime = percentage * duration;\n    seek(newTime);\n  };\n\n  // 音量変更処理\n  const handleVolumeChange = e => {\n    const newVolume = parseFloat(e.target.value);\n    setVolume(newVolume);\n  };\n\n  // 時間表示フォーマット\n  const formatTime = time => {\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time % 60);\n    return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n  };\n  return /*#__PURE__*/_jsxDEV(VisualizerContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      children: \"\\u97F3\\u697D\\u53EF\\u8996\\u5316\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ControlPanel, {\n      children: [/*#__PURE__*/_jsxDEV(ControlRow, {\n        children: [/*#__PURE__*/_jsxDEV(ControlGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"1. \\u97F3\\u697D\\u3092\\u9078\\u629E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FileInputLabel, {\n            children: [/*#__PURE__*/_jsxDEV(FileInput, {\n              type: \"file\",\n              accept: \"audio/*\",\n              onChange: handleFileChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 15\n            }, this), \"\\u30D5\\u30A1\\u30A4\\u30EB\\u3092\\u9078\\u629E\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: '10px',\n              color: '#999'\n            },\n            children: fileName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ControlGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"\\u30B5\\u30F3\\u30D7\\u30EB\\u97F3\\u697D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            onChange: e => handleSampleTrack(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"\\u30B5\\u30F3\\u30D7\\u30EB\\u97F3\\u697D\\u3092\\u9078\\u629E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 15\n            }, this), SAMPLE_TRACKS.map((track, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: track.url,\n              children: track.name\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ControlRow, {\n        children: [/*#__PURE__*/_jsxDEV(ControlGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"2. \\u518D\\u751F\\u30B3\\u30F3\\u30C8\\u30ED\\u30FC\\u30EB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              $primary: true,\n              onClick: play,\n              disabled: !audioData.ready,\n              children: \"\\u518D\\u751F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: pause,\n              disabled: !isPlaying,\n              children: \"\\u4E00\\u6642\\u505C\\u6B62\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: stop,\n              disabled: !audioData.ready,\n              children: \"\\u505C\\u6B62\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ControlGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: [\"\\u97F3\\u91CF\\uFF1A\", Math.round(volume * 100), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            min: \"0\",\n            max: \"1\",\n            step: \"0.01\",\n            value: volume,\n            onChange: e => setVolume(parseFloat(e.target.value)),\n            style: {\n              width: '100%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ControlRow, {\n        children: /*#__PURE__*/_jsxDEV(ControlGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: [\"\\u9032\\u884C\\u72B6\\u6CC1\\uFF1A\", formatTime(currentTime), \" / \", formatTime(duration)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n            onClick: handleProgressClick,\n            children: /*#__PURE__*/_jsxDEV(Progress, {\n              $width: `${currentTime / duration * 100 || 0}%`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ControlRow, {\n        children: [/*#__PURE__*/_jsxDEV(ControlGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"3. \\u8996\\u899A\\u5316\\u52B9\\u679C\\u3092\\u9078\\u629E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: visualType,\n            onChange: e => setVisualType(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: VisualizationType.SPECTRUM_BARS,\n              children: \"\\u30B9\\u30DA\\u30AF\\u30C8\\u30E9\\u30E0\\u30D0\\u30FC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: VisualizationType.WAVEFORM,\n              children: \"\\u6CE2\\u5F62\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: VisualizationType.CIRCULAR,\n              children: \"\\u5186\\u5F62\\u30B9\\u30DA\\u30AF\\u30C8\\u30E9\\u30E0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: VisualizationType.PARTICLES,\n              children: \"\\u30D1\\u30FC\\u30C6\\u30A3\\u30AF\\u30EB\\u30B7\\u30B9\\u30C6\\u30E0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: VisualizationType.SPHERE_3D,\n              children: \"3D\\u7403\\u4F53\\u53CD\\u5FDC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: VisualizationType.SPECTRUM_WATERFALL,\n              children: \"\\u5468\\u6CE2\\u6570\\u7011\\u5E03\\u6D41\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: VisualizationType.STAR_FIELD,\n              children: \"\\u661F\\u7CFB\\u52B9\\u679C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ControlGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"\\u30AB\\u30B9\\u30BF\\u30E0\\u30AB\\u30E9\\u30FC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ColorInputGroup, {\n            children: [/*#__PURE__*/_jsxDEV(ColorInput, {\n              type: \"color\",\n              value: startColor,\n              onChange: e => setStartColor(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#999'\n              },\n              children: \"\\u304B\\u3089\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ColorInput, {\n              type: \"color\",\n              value: endColor,\n              onChange: e => setEndColor(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CanvasContainer, {\n      children: /*#__PURE__*/_jsxDEV(Canvas, {\n        ref: canvasRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 535,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 429,\n    columnNumber: 5\n  }, this);\n}\n_s(VisualizerPage, \"8IAmurbqeWxFsFIbPpUwzKQLYro=\", false, function () {\n  return [useAudioContext];\n});\n_c17 = VisualizerPage;\nexport default VisualizerPage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17;\n$RefreshReg$(_c, \"VisualizerContainer\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"ControlPanel\");\n$RefreshReg$(_c4, \"ControlRow\");\n$RefreshReg$(_c5, \"ControlGroup\");\n$RefreshReg$(_c6, \"Label\");\n$RefreshReg$(_c7, \"Button\");\n$RefreshReg$(_c8, \"FileInput\");\n$RefreshReg$(_c9, \"FileInputLabel\");\n$RefreshReg$(_c10, \"Select\");\n$RefreshReg$(_c11, \"ColorInput\");\n$RefreshReg$(_c12, \"ColorInputGroup\");\n$RefreshReg$(_c13, \"ProgressBar\");\n$RefreshReg$(_c14, \"Progress\");\n$RefreshReg$(_c15, \"CanvasContainer\");\n$RefreshReg$(_c16, \"Canvas\");\n$RefreshReg$(_c17, \"VisualizerPage\");","map":{"version":3,"names":["React","useRef","useState","useEffect","styled","useAudioContext","visualEffects","newVisualEffects","jsxDEV","_jsxDEV","VisualizerContainer","div","_c","Title","h1","_c2","ControlPanel","_c3","ControlRow","_c4","ControlGroup","_c5","Label","label","_c6","Button","button","props","$primary","_c7","FileInput","input","_c8","FileInputLabel","_c9","Select","select","_c10","ColorInput","_c11","ColorInputGroup","_c12","ProgressBar","_c13","Progress","$width","_c14","CanvasContainer","_c15","Canvas","canvas","_c16","VisualizationType","SAMPLE_TRACKS","name","url","VisualizerPage","_s","audioData","isPlaying","loadAudio","loadAudioFromUrl","play","pause","stop","setVolume","currentTime","duration","volume","seek","visualType","setVisualType","SPECTRUM_BARS","startColor","setStartColor","endColor","setEndColor","fileName","setFileName","canvasRef","canvasCtxRef","animationRef","particlesRef","sphereVisualizerRef","spectrumWaterfallRef","starfieldRef","current","getContext","resizeCanvas","container","parentElement","width","clientWidth","height","clientHeight","window","addEventListener","destroy","PARTICLES","createParticles","SPHERE_3D","SphereVisualizer","SPECTRUM_WATERFALL","SpectrumWaterfall","STAR_FIELD","Starfield","removeEventListener","ready","ctx","draw","frequencies","waveform","drawSpectrumBars","WAVEFORM","drawWaveform","color","filled","CIRCULAR","drawCircularSpectrum","rotation","Date","now","clearRect","updateParticles","drawParticles","update","requestAnimationFrame","cancelAnimationFrame","handleFileChange","e","files","target","length","file","handleSampleTrack","track","find","t","handleProgressClick","progressBar","currentTarget","rect","getBoundingClientRect","offsetX","clientX","left","percentage","newTime","handleVolumeChange","newVolume","parseFloat","value","formatTime","time","minutes","Math","floor","seconds","children","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","style","marginLeft","map","index","display","gap","onClick","disabled","round","min","max","step","ref","_c17","$RefreshReg$"],"sources":["C:/Users/20213/Desktop/web/src/pages/VisualizerPage.tsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useAudioContext } from '../context/AudioContext';\r\nimport * as visualEffects from '../utils/visualEffects';\r\nimport * as newVisualEffects from '../utils/newVisualEffects';\r\n\r\n// スタイルコンポーネント\r\nconst VisualizerContainer = styled.div`\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  color: #ba68c8;\r\n  margin-bottom: 20px;\r\n  text-align: center;\r\n`;\r\n\r\nconst ControlPanel = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: #1e1e1e;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst ControlRow = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 20px;\r\n  margin-bottom: 20px;\r\n  \r\n  @media (max-width: 768px) {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nconst ControlGroup = styled.div`\r\n  flex: 1;\r\n  min-width: 200px;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  display: block;\r\n  margin-bottom: 8px;\r\n  color: #ddd;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst Button = styled.button<{ $primary?: boolean }>`\r\n  background-color: ${props => props.$primary ? '#9c27b0' : '#333'};\r\n  color: white;\r\n  border: none;\r\n  padding: 10px 15px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  transition: all 0.2s ease;\r\n  \r\n  &:hover {\r\n    background-color: ${props => props.$primary ? '#ba68c8' : '#444'};\r\n  }\r\n  \r\n  &:disabled {\r\n    background-color: #555;\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\nconst FileInput = styled.input`\r\n  display: none;\r\n`;\r\n\r\nconst FileInputLabel = styled.label`\r\n  display: inline-block;\r\n  background-color: #333;\r\n  color: white;\r\n  padding: 10px 15px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  transition: all 0.2s ease;\r\n  \r\n  &:hover {\r\n    background-color: #444;\r\n  }\r\n`;\r\n\r\nconst Select = styled.select`\r\n  width: 100%;\r\n  padding: 10px;\r\n  background-color: #333;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  appearance: none;\r\n  cursor: pointer;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    box-shadow: 0 0 0 2px rgba(186, 104, 200, 0.3);\r\n  }\r\n`;\r\n\r\nconst ColorInput = styled.input`\r\n  width: 40px;\r\n  height: 40px;\r\n  padding: 0;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  background-color: transparent;\r\n  \r\n  &::-webkit-color-swatch-wrapper {\r\n    padding: 0;\r\n  }\r\n  \r\n  &::-webkit-color-swatch {\r\n    border: none;\r\n    border-radius: 4px;\r\n  }\r\n`;\r\n\r\nconst ColorInputGroup = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n`;\r\n\r\nconst ProgressBar = styled.div`\r\n  width: 100%;\r\n  height: 6px;\r\n  background-color: #333;\r\n  border-radius: 3px;\r\n  margin-top: 5px;\r\n  position: relative;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Progress = styled.div<{ $width: string }>`\r\n  height: 100%;\r\n  width: ${props => props.$width};\r\n  background-color: #ba68c8;\r\n  border-radius: 3px;\r\n`;\r\n\r\nconst CanvasContainer = styled.div`\r\n  width: 100%;\r\n  height: 500px;\r\n  overflow: hidden;\r\n  border-radius: 8px;\r\n  background-color: #111;\r\n  position: relative;\r\n`;\r\n\r\nconst Canvas = styled.canvas`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: block;\r\n`;\r\n\r\n// 視覚化効果タイプ\r\nenum VisualizationType {\r\n  SPECTRUM_BARS = 'spectrumBars',\r\n  WAVEFORM = 'waveform',\r\n  CIRCULAR = 'circular',\r\n  PARTICLES = 'particles',\r\n  SPHERE_3D = 'sphere3d',\r\n  SPECTRUM_WATERFALL = 'spectrumWaterfall',\r\n  STAR_FIELD = 'starField'\r\n}\r\n\r\n// サンプル音楽リスト\r\nconst SAMPLE_TRACKS = [\r\n  { name: 'サンプル音楽 1', url: 'https://assets.codepen.io/4358584/Anitek_-_Komorebi.mp3' },\r\n  { name: 'サンプル音楽 2', url: 'https://assets.codepen.io/4358584/Moonbase_-_Dinos.mp3' },\r\n  { name: 'サンプル音楽 3', url: 'https://assets.codepen.io/4358584/n-Dimensions_-_Cyber_Diva.mp3' }\r\n];\r\n\r\nfunction VisualizerPage() {\r\n  // 全局音频上下文\r\n  const { \r\n    audioData, \r\n    isPlaying, \r\n    loadAudio, \r\n    loadAudioFromUrl, \r\n    play, \r\n    pause, \r\n    stop, \r\n    setVolume,\r\n    currentTime,\r\n    duration,\r\n    volume,\r\n    seek\r\n  } = useAudioContext();\r\n  \r\n  // 状態管理\r\n  const [visualType, setVisualType] = useState<VisualizationType>(VisualizationType.SPECTRUM_BARS);\r\n  const [startColor, setStartColor] = useState('#9c27b0');\r\n  const [endColor, setEndColor] = useState('#3f51b5');\r\n  const [fileName, setFileName] = useState('ファイルが選択されていません');\r\n  \r\n  // Refs\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const canvasCtxRef = useRef<CanvasRenderingContext2D | null>(null);\r\n  const animationRef = useRef<number | null>(null);\r\n  \r\n  // 各种可视化效果的状态\r\n  const particlesRef = useRef<visualEffects.Particle[]>([]);\r\n  const sphereVisualizerRef = useRef<newVisualEffects.SphereVisualizer | null>(null);\r\n  const spectrumWaterfallRef = useRef<newVisualEffects.SpectrumWaterfall | null>(null);\r\n  const starfieldRef = useRef<newVisualEffects.Starfield | null>(null);\r\n  \r\n  // 初始化画布\r\n  useEffect(() => {\r\n    if (canvasRef.current) {\r\n      canvasCtxRef.current = canvasRef.current.getContext('2d');\r\n      \r\n      // 设置画布大小\r\n      const resizeCanvas = () => {\r\n        if (canvasRef.current) {\r\n          const container = canvasRef.current.parentElement;\r\n          if (container) {\r\n            canvasRef.current.width = container.clientWidth;\r\n            canvasRef.current.height = container.clientHeight;\r\n          }\r\n        }\r\n      };\r\n      \r\n      resizeCanvas();\r\n      window.addEventListener('resize', resizeCanvas);\r\n      \r\n      // 清理之前的可视化效果\r\n      if (sphereVisualizerRef.current) {\r\n        sphereVisualizerRef.current.destroy();\r\n        sphereVisualizerRef.current = null;\r\n      }\r\n      \r\n      // 如果粒子效果，初始化粒子\r\n      if (visualType === VisualizationType.PARTICLES && canvasRef.current) {\r\n        particlesRef.current = visualEffects.createParticles(\r\n          100, \r\n          canvasRef.current.width, \r\n          canvasRef.current.height,\r\n          { startColor, endColor }\r\n        );\r\n      } else if (visualType === VisualizationType.SPHERE_3D && canvasRef.current) {\r\n        const container = canvasRef.current.parentElement;\r\n        if (container) {\r\n          // 清空容器并创建新的3D球体可视化\r\n          if (sphereVisualizerRef.current) {\r\n            sphereVisualizerRef.current.destroy();\r\n          }\r\n          \r\n          sphereVisualizerRef.current = new newVisualEffects.SphereVisualizer(\r\n            container, \r\n            { startColor, endColor }\r\n          );\r\n        }\r\n      } else if (visualType === VisualizationType.SPECTRUM_WATERFALL && canvasRef.current) {\r\n        if (spectrumWaterfallRef.current) {\r\n          // 重置瀑布效果\r\n          spectrumWaterfallRef.current = null;\r\n        }\r\n        \r\n        spectrumWaterfallRef.current = new newVisualEffects.SpectrumWaterfall(\r\n          canvasRef.current,\r\n          { startColor, endColor }\r\n        );\r\n      } else if (visualType === VisualizationType.STAR_FIELD && canvasRef.current) {\r\n        if (starfieldRef.current) {\r\n          // 重置星空效果\r\n          starfieldRef.current = null;\r\n        }\r\n        \r\n        starfieldRef.current = new newVisualEffects.Starfield(\r\n          canvasRef.current,\r\n          { startColor, endColor }\r\n        );\r\n      }\r\n      \r\n      return () => {\r\n        window.removeEventListener('resize', resizeCanvas);\r\n        \r\n        // 清理3D可视化效果\r\n        if (sphereVisualizerRef.current) {\r\n          sphereVisualizerRef.current.destroy();\r\n          sphereVisualizerRef.current = null;\r\n        }\r\n      };\r\n    }\r\n  }, [visualType, startColor, endColor]);\r\n  \r\n  // 绘制可视化效果\r\n  useEffect(() => {\r\n    if (!audioData.ready || !canvasRef.current) {\r\n      return;\r\n    }\r\n    \r\n    const canvas = canvasRef.current;\r\n    const ctx = canvasCtxRef.current;\r\n    \r\n    const draw = () => {\r\n      if (!canvas) return;\r\n      \r\n      const { frequencies, waveform, volume } = audioData;\r\n      \r\n      switch (visualType) {\r\n        case VisualizationType.SPECTRUM_BARS:\r\n          if (ctx) {\r\n            visualEffects.drawSpectrumBars(ctx, frequencies, canvas.width, canvas.height, {\r\n              startColor,\r\n              endColor\r\n            });\r\n          }\r\n          break;\r\n        \r\n        case VisualizationType.WAVEFORM:\r\n          if (ctx) {\r\n            visualEffects.drawWaveform(ctx, waveform, canvas.width, canvas.height, {\r\n              color: startColor,\r\n              filled: true\r\n            });\r\n          }\r\n          break;\r\n          \r\n        case VisualizationType.CIRCULAR:\r\n          if (ctx) {\r\n            visualEffects.drawCircularSpectrum(ctx, frequencies, canvas.width, canvas.height, {\r\n              startColor,\r\n              endColor,\r\n              rotation: Date.now() * 0.0005\r\n            });\r\n          }\r\n          break;\r\n          \r\n        case VisualizationType.PARTICLES:\r\n          if (ctx) {\r\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n            particlesRef.current = visualEffects.updateParticles(\r\n              particlesRef.current, \r\n              canvas.width, \r\n              canvas.height, \r\n              volume\r\n            );\r\n            visualEffects.drawParticles(ctx, particlesRef.current, volume);\r\n          }\r\n          break;\r\n          \r\n        case VisualizationType.SPHERE_3D:\r\n          if (sphereVisualizerRef.current) {\r\n            sphereVisualizerRef.current.update(frequencies);\r\n          }\r\n          break;\r\n          \r\n        case VisualizationType.SPECTRUM_WATERFALL:\r\n          if (spectrumWaterfallRef.current) {\r\n            spectrumWaterfallRef.current.update(frequencies);\r\n          }\r\n          break;\r\n          \r\n        case VisualizationType.STAR_FIELD:\r\n          if (starfieldRef.current) {\r\n            starfieldRef.current.update(frequencies);\r\n          }\r\n          break;\r\n      }\r\n      \r\n      animationRef.current = requestAnimationFrame(draw);\r\n    };\r\n    \r\n    draw();\r\n    \r\n    return () => {\r\n      if (animationRef.current) {\r\n        cancelAnimationFrame(animationRef.current);\r\n      }\r\n    };\r\n  }, [audioData, visualType, startColor, endColor]);\r\n  \r\n  // 文件名の更新を処理する\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = e.target.files;\r\n    if (files && files.length > 0) {\r\n      const file = files[0];\r\n      setFileName(file.name);\r\n      loadAudio(file);\r\n    }\r\n  };\r\n  \r\n  // サンプル音楽選択処理\r\n  const handleSampleTrack = (url: string) => {\r\n    loadAudioFromUrl(url);\r\n    const track = SAMPLE_TRACKS.find(t => t.url === url);\r\n    if (track) {\r\n      setFileName(track.name);\r\n    }\r\n  };\r\n  \r\n  // 進行状況クリック処理\r\n  const handleProgressClick = (e: React.MouseEvent<HTMLDivElement>) => {\r\n    if (!duration) return;\r\n    \r\n    const progressBar = e.currentTarget;\r\n    const rect = progressBar.getBoundingClientRect();\r\n    const offsetX = e.clientX - rect.left;\r\n    const percentage = offsetX / rect.width;\r\n    \r\n    const newTime = percentage * duration;\r\n    seek(newTime);\r\n  };\r\n  \r\n  // 音量変更処理\r\n  const handleVolumeChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const newVolume = parseFloat(e.target.value);\r\n    setVolume(newVolume);\r\n  };\r\n  \r\n  // 時間表示フォーマット\r\n  const formatTime = (time: number) => {\r\n    const minutes = Math.floor(time / 60);\r\n    const seconds = Math.floor(time % 60);\r\n    return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\r\n  };\r\n  \r\n  return (\r\n    <VisualizerContainer>\r\n      <Title>音楽可視化</Title>\r\n      \r\n      <ControlPanel>\r\n        <ControlRow>\r\n          <ControlGroup>\r\n            <Label>1. 音楽を選択</Label>\r\n            <FileInputLabel>\r\n              <FileInput \r\n                type=\"file\" \r\n                accept=\"audio/*\" \r\n                onChange={handleFileChange} \r\n              />\r\n              ファイルを選択\r\n            </FileInputLabel>\r\n            <span style={{ marginLeft: '10px', color: '#999' }}>{fileName}</span>\r\n          </ControlGroup>\r\n          \r\n          <ControlGroup>\r\n            <Label>サンプル音楽</Label>\r\n            <Select onChange={(e) => handleSampleTrack(e.target.value)}>\r\n              <option value=\"\">サンプル音楽を選択</option>\r\n              {SAMPLE_TRACKS.map((track, index) => (\r\n                <option key={index} value={track.url}>\r\n                  {track.name}\r\n                </option>\r\n              ))}\r\n            </Select>\r\n          </ControlGroup>\r\n        </ControlRow>\r\n        \r\n        <ControlRow>\r\n          <ControlGroup>\r\n            <Label>2. 再生コントロール</Label>\r\n            <div style={{ display: 'flex', gap: '10px' }}>\r\n              <Button $primary onClick={play} disabled={!audioData.ready}>\r\n                再生\r\n              </Button>\r\n              <Button onClick={pause} disabled={!isPlaying}>\r\n                一時停止\r\n              </Button>\r\n              <Button onClick={stop} disabled={!audioData.ready}>\r\n                停止\r\n              </Button>\r\n            </div>\r\n          </ControlGroup>\r\n          \r\n          <ControlGroup>\r\n            <Label>音量：{Math.round(volume * 100)}%</Label>\r\n            <input\r\n              type=\"range\"\r\n              min=\"0\"\r\n              max=\"1\"\r\n              step=\"0.01\"\r\n              value={volume}\r\n              onChange={(e) => setVolume(parseFloat(e.target.value))}\r\n              style={{ width: '100%' }}\r\n            />\r\n          </ControlGroup>\r\n        </ControlRow>\r\n        \r\n        <ControlRow>\r\n          <ControlGroup>\r\n            <Label>進行状況：{formatTime(currentTime)} / {formatTime(duration)}</Label>\r\n            <ProgressBar onClick={handleProgressClick}>\r\n              <Progress $width={`${(currentTime / duration) * 100 || 0}%`} />\r\n            </ProgressBar>\r\n          </ControlGroup>\r\n        </ControlRow>\r\n        \r\n        <ControlRow>\r\n          <ControlGroup>\r\n            <Label>3. 視覚化効果を選択</Label>\r\n            <Select \r\n              value={visualType} \r\n              onChange={(e) => setVisualType(e.target.value as VisualizationType)}\r\n            >\r\n              <option value={VisualizationType.SPECTRUM_BARS}>スペクトラムバー</option>\r\n              <option value={VisualizationType.WAVEFORM}>波形</option>\r\n              <option value={VisualizationType.CIRCULAR}>円形スペクトラム</option>\r\n              <option value={VisualizationType.PARTICLES}>パーティクルシステム</option>\r\n              <option value={VisualizationType.SPHERE_3D}>3D球体反応</option>\r\n              <option value={VisualizationType.SPECTRUM_WATERFALL}>周波数瀑布流</option>\r\n              <option value={VisualizationType.STAR_FIELD}>星系効果</option>\r\n            </Select>\r\n          </ControlGroup>\r\n          \r\n          <ControlGroup>\r\n            <Label>カスタムカラー</Label>\r\n            <ColorInputGroup>\r\n              <ColorInput \r\n                type=\"color\" \r\n                value={startColor} \r\n                onChange={(e) => setStartColor(e.target.value)} \r\n              />\r\n              <span style={{ color: '#999' }}>から</span>\r\n              <ColorInput \r\n                type=\"color\" \r\n                value={endColor} \r\n                onChange={(e) => setEndColor(e.target.value)} \r\n              />\r\n            </ColorInputGroup>\r\n          </ControlGroup>\r\n        </ControlRow>\r\n      </ControlPanel>\r\n      \r\n      <CanvasContainer>\r\n        <Canvas ref={canvasRef} />\r\n      </CanvasContainer>\r\n    </VisualizerContainer>\r\n  );\r\n}\r\n\r\nexport default VisualizerPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}